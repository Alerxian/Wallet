# Feature Inventory and Gap Analysis

## 1. 目标

建立全量功能清单，按 `Demo / MVP / Beta / Production` 分阶段标记完成度，明确缺口和优先级。

## 2. 功能域与条目 ID

- A. 账户与身份（FI-A-*）
- B. 市场浏览与发现（FI-B-*）
- C. 交易执行（FI-C-*）
- D. 持仓与资产（FI-D-*）
- E. 市场生命周期（FI-E-*）
- F. 资金安全与风控（FI-F-*）
- G. 稳定性与可观测（FI-G-*）
- H. UI/UX 设计系统（FI-H-*）
- I. 发布与工程质量（FI-I-*）

## 3. 完成度矩阵（重判）

| 功能域 | Demo | MVP | Beta | Prod | 说明 |
|---|---|---|---|---|---|
| A | 部分完成 | 未完成 | 未开始 | 未开始 | 会话治理不足 |
| B | 主要完成 | 部分完成 | 未开始 | 未开始 | 缺筛选排序和状态反馈 |
| C | 主要完成 | 部分完成 | 未开始 | 未开始 | 缺全状态机与恢复 |
| D | 未完成 | 未完成 | 未开始 | 未开始 | 资产闭环缺失 |
| E | 部分完成 | 未完成 | 未开始 | 未开始 | 用户侧结算体验不足 |
| F | 基础能力 | 未完成 | 未开始 | 未开始 | 缺规则/审计/告警体系 |
| G | 基础能力 | 未完成 | 未开始 | 未开始 | 缺可观测与SLO |
| H | 部分完成 | 未完成 | 未开始 | 未开始 | 缺设计系统规范化 |
| I | 基础能力 | 未完成 | 未开始 | 未开始 | 缺门禁、灰度、回滚 |

## 4. MVP P0 缺口（必须）

- FI-A-01：会话重连与失效处理
- FI-A-02：多钱包切换与冲突提示
- FI-C-01：交易状态机（4态）UI + API
- FI-C-02：交易失败恢复与重试
- FI-D-01：Portfolio 持仓页
- FI-D-02：Activity 历史页
- FI-F-01：关键接口鉴权
- FI-F-02：关键接口限流
- FI-F-03：关键交易审计日志
- FI-F-04：异常告警（频率/失败率）
- FI-H-01：页面加载/空/错误态覆盖
- FI-H-02：UI Token 与组件状态统一

## 5. MVP KPI

- 核心路径成功率 >= 98%
- 交易状态可追踪率 = 100%
- 关键 API 错误率 < 1%
- 崩溃率 < 0.3%
- 首屏时间 < 2.5s（WiFi）

## 6. 状态维护机制

- 每周更新矩阵状态
- 每次评审后更新优先级
- 每次里程碑结束附“验收证据”
