# 阶段实施模板（Phase Execution Template）

你现在进入实施模式。
请基于已确认的功能方案，仅执行当前阶段，不跨阶段改动。

---

## A. 阶段信息

- 阶段名称：<例如：Phase 1 - 市场搜索与筛选>
- 阶段目标：<一句话说明本阶段要达成什么>
- 上游依赖：<已完成的前置阶段/条件>
- 完成定义（DoD）：<满足哪些条件才算完成>

---

## B. 变更范围（必须严格遵守）

### 允许改动

- <目录/模块 1>
- <目录/模块 2>

### 禁止改动

- <非本阶段模块 1>
- <非本阶段模块 2>
- 不得修改业务规则（除非我明确批准）

---

## C. 实施输入

- 参考文档：1.md（规划方案）
- 当前代码：App.tsx、index.js、src/**
- 技术约束：
  - TypeScript 必须保持
  - 状态管理优先 zustand，不引入大型状态库
  - API 层保持兼容（ky + zod）
  - 不做与任务无关的代码改动

---

## D. 执行要求（逐步输出）

按子任务推进，每完成一个子任务就输出：

1. 子任务名称
2. 修改文件列表（精确到路径）
3. 改动目的（为什么这样改）
4. 风险点（可能影响）
5. 本子任务自检结果

---

## E. 测试与验收（必须通过）

本阶段结束前必须执行并通过：

- npm run typecheck
- npm run test

如果失败，必须：

1. 先报告失败原因
2. 给出修复方案并执行修复
3. 重跑直到通过
4. 再进入下一子任务或结束阶段

---

## F. 回归检查清单（按阶段选择）

- [ ] 市场列表可正常加载
- [ ] 市场详情可正常打开
- [ ] 买卖流程可走通（含错误提示）
- [ ] WalletConnect 登录可用
- [ ] 持仓/活动流显示正常（如本阶段涉及）
- [ ] 加载态/空态/错误态行为正常
- [ ] 关键交互无明显退化
- [ ] 新增功能行为符合预期（如筛选、收藏、快捷交易）

---

## G. 风险与回滚

请在阶段末尾输出：

- 主要风险：<技术风险/业务风险>
- 影响范围：<受影响页面或流程>
- 回滚方案：
  - 代码回滚点：<按提交或模块说明>
  - 数据兼容说明：<如有>
  - 临时降级策略：<如有>

---

## H. 阶段结束输出格式（固定）

请严格用以下结构回复：

1. 完成项（对照阶段目标）
2. 变更文件清单（按模块归类）
3. 测试结果（含失败 -> 修复过程，如有）
4. 回归结果（通过/未通过项）
5. 风险与回滚说明
6. 下一阶段建议（最多 3 条）

---

## I. 启动指令（每次只开一个阶段）

当我输入：

开始实施：<阶段名称>

你就按本模板执行该阶段，直到该阶段完成并通过测试后停止。
